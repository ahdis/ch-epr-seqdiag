ps_gui -> ps_doc_consumer: retrieve document entries
activate ps_doc_consumer
ps_doc_consumer -> cc_doc_registry: [ITI-18] Registry Stored Query [MPI_A-PID]\ngrouped with [ITI-40] Provide X-User Assertion [EPR-SPID]
activate cc_doc_registry
  cc_doc_registry -> cc_adp: ADR Authorization Decision Request\ngrouped with [ITI-40] Provide X-User Assertion [EPR-SPID]
  activate cc_adp
  cc_doc_registry <- cc_adp: ADR Authorization Decision Response
  deactivate cc_adp

ps_doc_consumer <- cc_doc_registry: [ITI-18] Registry Stored Query Response
deactivate cc_doc_registry

loop
  ps_doc_consumer -> ss_doc_repository: [ITI-43] Retrieve Document Set\ngrouped with [ITI-40] Provide X-User Assertion [EPR-SPID]
  activate ss_doc_repository
  note left cc_adp: not explicitly written in national extension\nbut repository needs policy enforcing also on [ITI-43]
  ss_doc_repository -> cc_adp: ADR Authorization Decision Request\ngrouped with [ITI-40] Provide X-User Assertion [EPR-SPID]
  activate cc_adp
  ss_doc_repository <- cc_adp: ADR Authorization Decision Response
  deactivate cc_adp
  ps_doc_consumer <- ss_doc_repository: [ITI-43] Retrieve Document Set Response
end
deactivate ss_doc_repository

ps_gui <- ps_doc_consumer

deactivate ps_doc_consumer
